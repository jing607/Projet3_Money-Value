{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand navbar-light\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"collapse navbar-collapse\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"navbar-nav ml-auto\"\n};\nconst _hoisted_5 = {\n  class: \"nav-item\"\n};\nconst _hoisted_6 = {\n  class: \"nav-item\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"navbar-nav ml-auto\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"navbar-brand\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Home\")]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", _hoisted_3, [!_ctx.user ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_4, [_createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: \"/login\",\n    class: \"nav-link\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Login\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"nav-link\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Sign up\")]),\n    _: 1 /* STABLE */\n  })])])) : _createCommentVNode(\"v-if\", true), _ctx.user ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_7, [_createElementVNode(\"li\", _hoisted_8, [_createElementVNode(\"a\", {\n    href: \"javascript:void(0)\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.handleClick && $options.handleClick(...args)),\n    class: \"nav-link\"\n  }, \"Logout\")])])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","_ctx","user","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","href","onClick","_cache","args","$options","handleClick"],"sources":["/Users/hj/Desktop/cours/6_Projet3_Money-Value/Projet3_Money-Value/Admin-Vue/front/src/components/NavBar.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand navbar-light\">\n    <div class=\"container\">\n      <router-link to=\"/\" class=\"navbar-brand\">Home</router-link>\n      <div class=\"collapse navbar-collapse\">\n        <ul class=\"navbar-nav ml-auto\" v-if=\"!user\">\n          <li class=\"nav-item\">\n            <router-link to=\"/login\" class=\"nav-link\">Login</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link to=\"/register\" class=\"nav-link\">Sign up</router-link>\n          </li>\n        </ul>\n\n        <ul class=\"navbar-nav ml-auto\" v-if=\"user\">\n          <li class=\"nav-item\">\n            <a href=\"javascript:void(0)\" @click=\"handleClick\" class=\"nav-link\">Logout</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapState } from 'vuex';\n\nexport default {\n  name: 'NavBar',\n  computed: {\n    ...mapState(['user']),\n  },\n  methods: {\n    async handleClick() {\n      // Appel API vers le endpoint /logout\n      try {\n        const response = await axios.post('/auth/logout');\n        // Si succ√®s\n        if (response && response.status === 204) {\n          localStorage.removeItem('token');\n          this.$store.commit('emptyState');\n          this.$store.commit('emptyStore');\n          this.$router.go(-1);\n        }\n      } catch (e) {\n        console.error(e);\n      }\n      this.$router.push('/');\n    },\n  },\n};\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAmC;;EACvCA,KAAK,EAAC;AAAW;;EAEfA,KAAK,EAAC;AAA0B;;;EAC/BA,KAAK,EAAC;;;EACJA,KAAK,EAAC;AAAU;;EAGhBA,KAAK,EAAC;AAAU;;;EAKlBA,KAAK,EAAC;;;EACJA,KAAK,EAAC;AAAU;;;uBAd5BC,mBAAA,CAoBM,OApBNC,UAoBM,GAnBJC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJC,YAAA,CAA2DC,sBAAA;IAA9CC,EAAE,EAAC,GAAG;IAACP,KAAK,EAAC;;sBAAe,MAAI,C,iBAAJ,MAAI,E;;MAC7CG,mBAAA,CAeM,OAfNK,UAeM,G,CAdkCC,IAAA,CAAAC,IAAI,I,cAA1CT,mBAAA,CAOK,MAPLU,UAOK,GANHR,mBAAA,CAEK,MAFLS,UAEK,GADHP,YAAA,CAA6DC,sBAAA;IAAhDC,EAAE,EAAC,QAAQ;IAACP,KAAK,EAAC;;sBAAW,MAAK,C,iBAAL,OAAK,E;;QAEjDG,mBAAA,CAEK,MAFLU,UAEK,GADHR,YAAA,CAAkEC,sBAAA;IAArDC,EAAE,EAAC,WAAW;IAACP,KAAK,EAAC;;sBAAW,MAAO,C,iBAAP,SAAO,E;;+CAInBS,IAAA,CAAAC,IAAI,I,cAAzCT,mBAAA,CAIK,MAJLa,UAIK,GAHHX,mBAAA,CAEK,MAFLY,UAEK,GADHZ,mBAAA,CAA6E;IAA1Ea,IAAI,EAAC,oBAAoB;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;IAAEnB,KAAK,EAAC;KAAW,QAAM,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}