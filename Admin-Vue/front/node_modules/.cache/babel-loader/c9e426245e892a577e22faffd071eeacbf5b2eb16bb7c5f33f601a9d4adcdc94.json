{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport './axios';\nimport { createStore } from 'vuex';\nimport axios from 'axios';\n\n// Vue.config.productionTip = false\n\nconst store = createStore({\n  state() {\n    return {\n      user: null,\n      token: null,\n      curList: null,\n      curPairs: null\n    };\n  },\n  mutations: {\n    loadStore() {\n      if (localStorage.getItem('valueMoneyStore')) {\n        try {\n          this.replaceState(JSON.parse(localStorage.getItem('valueMoneyStore')));\n        } catch (e) {\n          console.log('Could not initialize store', e);\n        }\n      }\n    },\n    emptyState(state) {\n      state.user = null;\n      state.token = null;\n      state.curList = null;\n      state.curPairs = null;\n    },\n    emptyStore(state) {\n      if (localStorage.getItem('store')) {\n        try {\n          this.emptyState(state);\n          this.replaceState(JSON.parse(localStorage.getItem('store')));\n        } catch (e) {\n          console.log('Could not empty store', e);\n        }\n      }\n    },\n    addUser(state, user) {\n      state.user = user;\n    },\n    setToken(state, token) {\n      state.token = token;\n    },\n    setCurList(state, list) {\n      state.curList = list;\n    },\n    setcurPairs(state, pairs) {\n      state.curPairs = pairs;\n    }\n  },\n  actions: {\n    async checkAuthenticated(context) {\n      try {\n        const res = await axios.get('auth/user');\n        if (res.response?.status === 401) {\n          return;\n        } else {\n          console.log(res);\n          context.commit('addUser', res.data);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    async getCurList(context) {\n      try {\n        const res = await axios.get('admin/currency');\n        console.log(res);\n        if (res.status === 200) {\n          localStorage.setItem('curList', JSON.stringify(res.data));\n          context.commit('setCurList', res.data);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    async getCurPairs(context) {\n      try {\n        const res = await axios.get('admin/currency-pairs');\n        console.log(res);\n        if (res.status === 200) {\n          localStorage.setItem('curPairs', JSON.stringify(res.data));\n          context.commit('setcurPairs', res.data);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n});\nstore.subscribe((mutation, state) => {\n  localStorage.setItem('valueMoneyStore', JSON.stringify(state));\n});\nconst app = createApp(App);\napp.use(store);\napp.use(router);\napp.mount('#app');","map":{"version":3,"names":["createApp","App","router","createStore","axios","store","state","user","token","curList","curPairs","mutations","loadStore","localStorage","getItem","replaceState","JSON","parse","e","console","log","emptyState","emptyStore","addUser","setToken","setCurList","list","setcurPairs","pairs","actions","checkAuthenticated","context","res","get","response","status","commit","data","getCurList","setItem","stringify","getCurPairs","subscribe","mutation","app","use","mount"],"sources":["/Users/hj/Desktop/cours/6_Projet3_Money-Value/Projet3_Money-Value/Admin-Vue/front/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport './axios'\nimport { createStore } from 'vuex'\nimport axios from 'axios'\n\n\n// Vue.config.productionTip = false\n\nconst store = createStore({\n  state () {\n    return {\n      user: null,\n      token: null,\n      curList: null,\n      curPairs: null,\n    }\n  },\n  mutations: {\n    loadStore() {\n      if(localStorage.getItem('valueMoneyStore')) {\n          try {\n              this.replaceState(JSON.parse(localStorage.getItem('valueMoneyStore')));\n          }\n          catch(e) {\n              console.log('Could not initialize store', e);\n          }\n      }\n    },\n    emptyState(state) {\n      state.user = null\n      state.token = null\n      state.curList = null\n      state.curPairs = null\n    },\n    emptyStore(state) {\n      if(localStorage.getItem('store')) {\n        try {\n            this.emptyState(state)\n            this.replaceState(JSON.parse(localStorage.getItem('store')));\n        }\n        catch(e) {\n            console.log('Could not empty store', e);\n        }\n      }\n    },\n    addUser (state, user) {\n      state.user = user\n    },\n    setToken(state, token) {\n      state.token = token\n    },\n    setCurList(state, list) {\n      state.curList = list\n    },\n    setcurPairs(state, pairs) {\n      state.curPairs = pairs\n    }\n  },\n  actions: {\n    async checkAuthenticated (context) {\n      try{\n        const res = await axios.get('auth/user');\n        \n        if(res.response?.status === 401) {\n          return;\n        } else {\n          console.log(res);\n          context.commit('addUser', res.data);\n        }\n      } catch(e) {\n        console.log(e)\n      }\n    },\n\n    async getCurList(context) {\n      try {\n        const res = await axios.get('admin/currency')\n        console.log(res)\n        if(res.status === 200) {\n          localStorage.setItem('curList', JSON.stringify(res.data))\n          context.commit('setCurList', res.data)\n        }\n      } catch(e) {\n        console.log(e)\n      }\n    },\n\n    async getCurPairs(context) {\n      try {\n        const res = await axios.get('admin/currency-pairs')\n        console.log(res)\n        if(res.status === 200) {\n          localStorage.setItem('curPairs', JSON.stringify(res.data))\n          context.commit('setcurPairs', res.data)\n        }\n      } catch(e) {\n        console.log(e)\n      }\n    },\n\n  }\n})\n\nstore.subscribe((mutation, state) => {\n  localStorage.setItem('valueMoneyStore', JSON.stringify(state));\n})\n\nconst app = createApp(App)\napp.use(store)\napp.use(router)\napp.mount('#app')"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}